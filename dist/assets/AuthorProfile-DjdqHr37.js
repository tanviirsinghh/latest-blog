import{u as v,a as N,r as l,j as e,b as y,B as x}from"./index-wms118WM.js";import{a as m,B as h}from"./axios-DjXiXPf6.js";import{N as b}from"./Navbar-BxDjeU5s.js";import{u as k}from"./index-BnnQxDJ7.js";import{F as w}from"./Footer-coaRzpxx.js";import{T as P,C,A as L}from"./AuthorPosts-BTNlCWp1.js";import{c as d}from"./createLucideIcon-C_LD4udX.js";import"./utils-QGIUj4o4.js";import"./proxy-Desq6GWu.js";import"./purify.es-Bq0E5Q3l.js";/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=d("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=d("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=d("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);function R(){const i=v(),p=N(),n=new URLSearchParams(p.search).get("authorId")||void 0,{blogsPersonal:u}=k(n),[a,j]=l.useState(null),[f,c]=l.useState(!1),r=localStorage.getItem("token"),[o,g]=l.useState({totalPosts:0,totalComments:0,totalLikes:0});if(l.useEffect(()=>{c(!0);async function s(){if(!r){x.error("User not authenticated"),i("/signin");return}try{const t=await m.get(`${h}/api/v1/user/details`,{headers:{Authorization:`Bearer ${r}`},params:{authorId:n}});if(t.data.isCurrentUser){i("/userprofile");return}j(t.data.userData)}catch(t){console.error("Error fetching author data:",t),x.error("Error / Try Again")}finally{c(!1)}}s()},[n,i,r]),l.useEffect(()=>{(async()=>{c(!0);try{const t=await m.get(`${h}/api/v1/user/user-stats`,{headers:{Authorization:`${r}`}});g(t.data)}catch(t){console.error("Error fetching stats:",t)}finally{c(!1)}})()},[]),!r){i("/signin");return}return f||!a?e.jsx("div",{children:e.jsx(y,{})}):e.jsxs(e.Fragment,{children:[e.jsx(b,{}),e.jsxs("div",{className:"min-h-screen bg-black",children:[a.name,e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"h-80 relative",children:[e.jsx("img",{src:a.coverpicture,alt:"Cover",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent to-gray-900/90"})]}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:" flex flex-col md:flex-row items-start  md:items-end gap-6 -mt-20 relative",children:[e.jsx("img",{src:a.profilePicture,alt:a.name,className:"w-32 h-32 rounded-full border-4 border-gray-900 shadow-xl"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white",children:a.name}),e.jsx("p",{className:"text-cyan-400 font-medium",children:a.blogName})]})}),e.jsx("p",{className:"mt-4 text-gray-300 max-w-2xl",children:a.bio}),e.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-4 text-gray-400",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(M,{size:16}),e.jsx("span",{children:a.location})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(A,{size:16}),e.jsxs("span",{children:["Joined ","authorData.joinedDate"]})]})]})]})]})})]}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("div",{className:"bg-black backdrop-blur-lg rounded-xl p-6 border border-gray-300/50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg text-cyan-400 bg-cyan-400/10",children:e.jsx(P,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Total Posts"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:o.totalPosts})]})]})}),e.jsx("div",{className:"bg-black backdrop-blur-lg rounded-xl p-6 border border-gray-300/50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg text-purple-400 bg-purple-400/10",children:e.jsx(D,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Total Likes"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:o.totalLikes})]})]})}),e.jsx("div",{className:"bg-black backdrop-blur-lg rounded-xl p-6 border border-gray-300/50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg text-pink-400 bg-pink-400/10",children:e.jsx(C,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Total Comments"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:o.totalComments})]})]})})]})}),e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Latest Posts"})}),e.jsx("div",{className:"space-y-6",children:u.map(s=>e.jsx(L,{id:s.id,authorName:s.author.name||"Anonymous",title:s.title,content:s.content,publishDate:" save the date also and then fetch here",url:s.url,like:s._count.like,comment:s._count.comment,save:s._count.savedPosts},s.id))})]})]})})]}),e.jsx("div",{className:"bg-black h-24"}),e.jsx(w,{})]})}export{R as default};
